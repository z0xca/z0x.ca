---
import { getCollection } from "astro:content"
import WritingItem from "@/components/WritingItem.astro"
import Layout from "@/layouts/Layout.astro"

const writing = await getCollection("writing")
writing.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())
---

<Layout>
  <article class="mb-16 sm:mb-32">
    <h2 class="mb-5 block font-medium text-foreground">Today</h2>
    <p class="mb-4">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
  </article>

  <section class="mb-16 sm:mb-32">
    <h2 class="mb-5 font-medium text-foreground">Writing</h2>
    <ul class="flex flex-col gap-7 sm:gap-4">
      {writing.map((post) => (
        <li>
          <WritingItem
            title={post.data.title}
            description={post.data.description}
            slug={post.slug}
          />
        </li>
      ))}
    </ul>
  </section>
  <section class="mb-12 sm:mb-16">
    <h2 class="mb-5 font-medium text-foreground">More</h2>
    <p class="text-muted-foreground">
      You can contact me on
      <a href="https://matrix.to/#/@z0x:z0x.ca" target="_blank" rel="nofollow noreferrer noopener" class="underline decoration-muted-foreground hover:decoration-foreground hover:text-foreground transition-all duration-150">Matrix</a>
      and find my code on
      <a href="https://git.z0x.ca" target="_blank" rel="nofollow noreferrer noopener" class="underline decoration-muted-foreground hover:decoration-foreground hover:text-foreground transition-all duration-150">Forgejo</a>.
    </p>
  </section>
</Layout>